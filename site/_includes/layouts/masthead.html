<header class="masthead">
    <nav class="navbar navbar-expand-sm">

        {% if page.project != "" %}
        <a class="navbar-brand" href="{{ site.url_root }}/{{ page.project | replace: " ", "-" }}">{{ page.project }}</a>
        {% else %}
        <a class="navbar-brand" href="{{ site.url_root }}">{{ site.brand_name }}</a>
        {% endif %}

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                {% for nav-links in site.data.nav.navbar.[page.project].[page.role] %}

                    {% if nav-links.sub-nav != null %}
                <li class="nav-item dropdown {% if page.group == nav-links.name %}active{% endif %}">
                    <a class="nav-link dropdown-toggle" href="#" id="{{ nav-links.name }}" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        {{ nav-links.title }}
                    </a>
                    <div class="dropdown-menu dropdown-menu-left" aria-labelledby="{{ nav-links.name }}">
                        {% for sub-nav-links in nav-links.sub-nav %}
                            {% if page.role != "Guest" %}
                        <a class="dropdown-item {% if page.unique-name == sub-nav-links.name %}active{% endif %}" href="{{ site.url_root }}/{{ page.project | replace: " ", "-" }}/{{ page.role }}/{{ nav-links.url | replace: " ", "-" }}/{{ sub-nav-links.url | replace: " ", "-" }}">{{ sub-nav-links.title }}</a>
                            {% else %}
                        <a class="dropdown-item {% if page.unique-name == sub-nav-links.name %}active{% endif %}" href="{{ site.url_root }}/{{ page.project | replace: " ", "-" }}/{{ nav-links.url | replace: " ", "-" }}/{{ sub-nav-links.url | replace: " ", "-" }}">{{ sub-nav-links.title }}</a>
                            {% endif %}
                        {% endfor %}
                    </div>
                </li>
                    {% else %}

                        {% if page.role != "Guest" %}
                <li class="nav-item">
                    <a class="nav-link {% if page.group == nav-links.name %}active{% endif %}" href="{{ site.url_root }}/{{ page.project | replace: " ", "-" }}/{{ page.role }}/{{ nav-links.url }}">{{ nav-links.title }}{% if page.group == nav-links.name %}<span class="sr-only">(current)</span>{% endif %}</a>
                </li>
                        {% else %}
                <li class="nav-item">
                    <a class="nav-link {% if page.group == nav-links.name %}active{% endif %}" href="{{ site.url_root }}/{{ page.project | replace: " ", "-" }}/{{ nav-links.url }}">{{ nav-links.title }}{% if page.group == nav-links.name %}<span class="sr-only">(current)</span>{% endif %}</a>
                </li>
                        {% endif %}

                    {% endif %}
                {% endfor %}
            </ul>

            <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link" href="#" id="LanguageIndicator" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <i class="icon-globe"></i>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="LanguageIndicator">
                        <a class="dropdown-item" href="">ðŸ‡¬ðŸ‡§ English</a>
                        <a class="dropdown-item" href="">ðŸ‡¨ðŸ‡³ ä¸­æ–‡</a>
                        <a class="dropdown-item" href="">ðŸ‡«ðŸ‡® Suomen</a>
                    </div>
                </li>
                {% if page.enable-notification == true %}
                <li class="nav-item">
                    <a class="nav-link" href="#"><i class="icon-bell"></i></a>
                </li>
                {% endif %}
                {% if page.enable-user-menu == true %}
                <li class="nav-item dropdown">
                    {% assign contact-info = site.data.users[page.role] %}
                    {% if contact-info != null %}
                    <a class="nav-link dropdown-toggle" href="#" id="UserMenu" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        {{ contact-info.username }}
                    </a>
                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="UserMenu">
                        <a class="dropdown-item" href="{{ site.url_root }}/{{ page.project }}/{{ page.role }}/account">Account</a>
                        <a class="dropdown-item" href="{{ site.url_root }}/{{ page.project }}/{{ page.role }}/preferences">Preference</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" onclick="UrlLogout()">Logout</a>
                    </div>
                </li>
                {% endif %}
                {% endif %}
            </ul>
        </div>
    </nav>
</header>

<script type="text/javascript">
    function UrlLogout() {
        window.location.href="{{ site.url_root }}/{{ page.project }}";
    }
</script>