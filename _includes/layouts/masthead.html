<header class="masthead">
  <nav class="navbar navbar-expand-sm">
  {% if page.project == null %}
    <a class="navbar-brand" href="{{ site.baseurl }}">{{ site.title }}</a>
  {% else %}
    <a class="navbar-brand" href="{{ site.baseurl }}/{{ page.project | replace: " ", "-" }}{% if page.user-role != guest %}/{{ page.user-role }}{% endif %}">{{ page.project | capitalize }}</a>
    {% endif %}
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
            aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
      {% for link in site.data.navs.navbar.[page.project].[page.role] %}
        {% if link.sub-nav == null %}
        <li class="nav-item">
          <a class="nav-link {% if page.group == link.name %}active{% endif %}" href="{{ site.baseurl }}/{{ link.url }}">{{ link.title }}{%- if page.group == link.name -%}<span
            class="sr-only">(current)</span>{% endif %}</a>
        </li>
        {% else %}
        <li class="nav-item dropdown {% if page.group == link.name %}active{% endif %}">
          <a class="nav-link dropdown-toggle" href="#" id="{{ page.project }}-{{ page.group }}-{{ link.name }}" role="button" data-toggle="dropdown"
             aria-haspopup="true" aria-expanded="false">
            {{ link.title }}
          </a>
          <div class="dropdown-menu dropdown-menu-left" aria-labelledby="{{ {{ page.project }}-{{ page.group }}-{{ link.name }} }}">
          {% for sub-link in link.sub-nav %}
            <a class="dropdown-item {% if page.unique-name == sub-link.name %}active{% endif %}"
               href="{{ site.baseurl }}/{{ sub-link.url }}">{{ sub-link.title }}</a>
          {% endfor %}
          </div>
        </li>
        {% endif %}
      {% endfor %}
      </ul>

      <ul class="navbar-nav">
        {% if page.enable-multi-language == true %}
        <li class="nav-item dropdown">
          <a class="nav-link" href="#" id="LanguageIndicator" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="icon-globe"></i>
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="LanguageIndicator">
            <a class="dropdown-item" href="">ðŸ‡¬ðŸ‡§ English</a>
            <a class="dropdown-item" href="">ðŸ‡¨ðŸ‡³ ä¸­æ–‡</a>
            <a class="dropdown-item" href="">ðŸ‡«ðŸ‡® Suomen</a>
          </div>
        </li>
        {% endif %}
        {% if page.enable-notification == true %}
        <li class="nav-item">
          <a class="nav-link" href="#"><i class="icon-bell"></i></a>
        </li>
        {% endif %}
        {% if page.enable-user-menu == true %}
        <li class="nav-item dropdown">
          {% for contact in site.data.demo.accounts[page.user-role] %}
            {% if contact != null %}
          <a class="nav-link dropdown-toggle" href="#" id="{{ page.project }}-{{ page.user-role }}" role="button" data-toggle="dropdown" aria-haspopup="true"
             aria-expanded="false">{{ contact.username }}</a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="{{ page.project }}-{{ page.user-role }}">
            <a class="dropdown-item" href="{{ site.baseurl }}/{{ page.project }}/{{ page.user-role }}/account">Account</a>
            <a class="dropdown-item" href="{{ site.baseurl }}/{{ page.project }}/{{ page.user-role }}/preferences">Preference</a>
            <div class="dropdown-divider"></div>
            <a class="dropdown-item" onclick="UrlLogout()">Logout</a>
          </div>
        </li>
        {% endif %}
        {% endfor %}
        {% endif %}
      </ul>
    </div>
  </nav>
</header>

<script type="text/javascript">
  function UrlLogout() {
    window.location.href = "{{ site.baseurl }}/{{ page.project }}";
  }
</script>
